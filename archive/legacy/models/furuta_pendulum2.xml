<mujoco model="furuta_pendulum">

    <!-- Compiler and simulation options -->
    <compiler angle="radian" coordinate="local"/>
    <option timestep="0.002" gravity="0 0 -9.81" integrator="RK4"/>

    <!-- Defaults -->
    <default>
        <joint damping="0.01"/>
        <geom friction="0.5 0.5 0.5"/>
    </default>

    <!-- Mesh assets -->
    <asset>
        <mesh name="base_mesh" file="meshes/base.stl" scale="0.001 0.001 0.001"/>
        <mesh name="arm_mesh" file="meshes/arm.stl" scale="0.001 0.001 0.001"/>
        <mesh name="pendulum_mesh" file="meshes/pendulum.stl" scale="0.001 0.001 0.001"/>
    </asset>

    <!-- Keyframes -->
    <keyframe>
        <key name="down"
             qpos="0 0"
             qvel="0 0"/>
        <key name="upright"
             qpos="0 3.1416"
             qvel="0 0"/>
    </keyframe>

    <!-- World body -->
    <worldbody>
        <geom type="plane"
            size="5 5 0.1"
            rgba="0.9 0.9 0.9 1"
            contype="0"
            conaffinity="0"/>

        <light pos="1 1 2" dir="-1 -1 -2" diffuse="0.8 0.8 0.8"/>
        <light pos="-1 -1 3" dir="1 1 -3" diffuse="0.4 0.4 0.4"/>
        <!-- Base (fixed) -->
        <body name="base" pos="0 0 0">
            <geom type="mesh"
                  mesh="base_mesh"
                  rgba="0.3 0.3 0.3 1"/>

            <!-- Rotary arm -->
            <body name="arm" pos="0 0 0.07">

                <joint name="arm_joint"
                       type="hinge"
                       axis="0 0 1"
                       limited="true"
                       range="-6.283 6.283"/>

                <geom type="mesh"
                      mesh="arm_mesh"
                      rgba="0.2 0.2 0.8 1"/>

                <geom type="capsule"
                      fromto="0 0 0 0.25 0 0"
                      size="0.01"/>

                <inertial
                    pos="0.125 0 0"
                    mass="0.10"
                    diaginertia="0.002 0.002 0.0002"/>

                <!-- Pendulum -->
                <body name="pendulum" pos="0.25 0 0">

                    <joint name="pendulum_joint"
                           type="hinge"
                           axis="1 0 0"
                           limited="true"
                           range="-3.1416 3.1416"/>

                    <geom type="mesh"
                          mesh="pendulum_mesh"
                          rgba="0.8 0.2 0.2 1"/>

                    <geom type="capsule"
                          fromto="0 0 0 0 0 -0.3"
                          size="0.01"/>

                    <inertial
                        pos="0 0 -0.15"
                        mass="0.15"
                        diaginertia="0.0015 0.0015 0.0001"/>

                </body>
            </body>
        </body>
    </worldbody>

    <!-- Actuator -->
    <actuator>
        <motor joint="arm_joint"
               ctrlrange="-8 8"
               gear="1"/>
    </actuator>

    <!-- Sensors -->
    <sensor>
        <jointpos joint="arm_joint"/>
        <jointvel joint="arm_joint"/>
        <jointpos joint="pendulum_joint"/>
        <jointvel joint="pendulum_joint"/>
    </sensor>


</mujoco>
